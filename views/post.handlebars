<header class='constainer text-center'>
  <div class='row bg-info text-white'>
    <h1
      class='h1 --bs-body-color col-4 p-2 mx-5 mb-4 bg-info-subtle text-dark rounded-3 header'
    >
      The Ultimate Tech Blog!
    </h1>
  </div>
</header>

<main class='container container-fluid mt-5'>
  <div class='card bg-info-subtle m-3 rounded-4 border-dark border-4'>
    <header class='card-header bg-dark text-white'>
      <div class='row justify-content-between'>
        <h2 class='h2 col-9 text-white text-start'>{{blog.title}}</h2>
        <div class='align-self-center col-3 text-end m-0'>Posted by:
          {{blog.user.username}}
          on
          {{blog.date_created}}</div>
      </div>
    </header>
    <div class='card-body'>
      <div class='row align-center mb-2'>

        <div class='col-md-12'>
          <p class='fs-5'>{{blog.description}}</p>
        </div>
      </div>
    </div>
  </div>

  <div id='comment-container'>
    {{#each blog.comments}}
      <div class='card bg-info-subtle m-3 rounded-3'>
        <div class='card-body'>
          <div class='row align-center'>
            <div class='col-md-12'>
              <p class='fs-5'>{{description}}</p>
            </div>
          </div>
        </div>
        <div class='card-footer'>
          <div class='row justify-content-between  align-items-center'>
            <p class='text-muted col-5'>Comment by:
            {{user.username}}
            on
            {{format_date date_created}}</p>
            <!-- Show delete button if it's the user. -->
            {{#if (isCommentOwner user.id ../user_id)}}
              <div class='col-2 my-0 text-center'>
                <button
                  class='btn btn-danger custom-btn'
                  type='button'
                  id='delete-comment'
                  data-delete="{{id}}"
                >Delete</button>
              </div>
            {{/if}}
          </div>
        </div>
      </div>
    {{/each}}
  </div>

  <!-- If logged-in, can leave comments. -->
  {{#if loggedIn}}
    <div class='container m-3' id='add-comment-btn'>
      <div class='row d-flex justify-content-center align-items-center'>
        <div class='col-12 col-sm-6'>
          <button
            class='btn button btn-info custom-btn w-110'
            type='button'
            id='add-comment'
          >+ Add Comment: </button>
        </div>
      </div>
    </div>
  {{/if}}

  <div id='new-comment'>
    <div class='card bg-info-subtle m-3 rounded-3'>
      <div class='card-body'>
        <div id='view-post'>
          <form class='form add-comment-form'>
            <div class='input-group'>
              <div class='input-group'>
                <span class='input-group-text'>Description: </span>
                <textarea
                  id='comment-description'
                  class='form-control'
                  aria-label='With textarea'
                  placeholder='Type Here'
                ></textarea>
              </div>
            </div>
            <div class='row justify-content-center align-items-center'>
              <div class='form-group col-2 my-3 text-center'>
                <button
                  class='btn button btn-info custom-btn'
                  type='submit'
                  id='submit-comment'
                >Submit</button>
              </div>
              <div class='form-group col-2 my-3 text-center'>
                <button
                  class='btn button btn-info custom-btn'
                  type='button'
                  id='cancel-comment'
                >Cancel</button>
              </div>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>

</main>

<script src='/js/post.js'></script>


{{!-- <form method="POST" action="/posts/{{post._id}}?_method=PUT">
  <div class="form-group">
    <label for="title">Title</label>
    <input type="text" name="title" id="title" class="form-control" value="{{post.title}}">
  </div>
  <div class="form-group">
    <label for="body">Body</label>
    <textarea name="body" id="body" rows="5" class="form-control">{{post.body}}</textarea>
  </div>
  <button type="submit" class="btn btn-primary">Save changes</button>
</form> --}}







{{!-- This is the Handlebars template for the body of the homepage --}}
{{!-- <div class="row justify-content-center">
    <div class="col-11 mt-4">
        <h1 class="shadow bg-secondary p-2 text-dark bg-opacity-10">Your Feed</h1>
    </div>
    <div class="col-12 col-md-11 col-xl-10 mt-3">
        {{#each posts as |post| }}
            {{> post-body post}}
        {{/each}}
    </div>
</div> --}}





{{!-- <div class="text-center">
  <h2>{{name}}</h2>
  <p>{{{get_emoji}}}</p>
  <p>{{content}}</p>
  <p>Created by {{user.name}} on {{format_date date_created}}</p>
  <p>
    <button class="btn btn-primary">Create a Post!</button>
  </p>
</div> --}}